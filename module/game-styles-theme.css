/* 
 * 姬侠传 - 水墨古风主题包
 * 基于原版 game-styles.css 进行样式覆盖与增强
 */

:root {
    /* --- 调色板 --- */
    /* 纸张背景色 */
    --paper-base: #f4f0e6;
    --paper-light: #faf8f2;
    --paper-dark: #e6e2d8;
    
    /* 水墨色阶 */
    --ink-black: #1a1a1a;   /* 焦墨 */
    --ink-dark: #2c2c2c;    /* 浓墨 */
    --ink-medium: #595959;  /* 重墨 */
    --ink-light: #8c8c8c;   /* 淡墨 */
    
    /* 点缀色 */
    --accent-red: #a93226;  /* 朱砂 - 战斗/强调 */
    --accent-cyan: #2471a3; /* 靛青 - 互动/选中 */
    --accent-gold: #b7950b; /* 藤黄 - 金钱/高亮 */
    --accent-green: #1e8449; /* 竹青 - 生命/恢复 */
    
    /* 边框与纹理 */
    --border-style: 2px solid var(--ink-dark);
    --border-double: 4px double var(--ink-dark);
    --shadow-hard: 4px 4px 0 rgba(44, 44, 44, 0.2);
    
    /* 字体栈 */
    --font-serif: "Kaiti", "STKaiti", "AR PL UKai CN", "KaiTi_GB2312", "SimSun", serif;
    --font-sans: "Microsoft YaHei", "SimHei", sans-serif;
}

/* --- 全局基础 --- */
body {
    background-color: #d6d2c4;
    background-image: 
        url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
    color: var(--ink-dark);
    font-family: var(--font-serif) !important;
}

/* 视窗容器：增加双线边框 + 强制纸质背景 */
.viewport {
    border: var(--border-double);
    box-shadow: 0 0 40px rgba(0,0,0,0.4);
    border-radius: 2px;
    overflow: visible !important; /* 覆盖共享CSS的 overflow: hidden，防止内容被裁切 */
    /* 这里给视窗本身加上纸质背景，这样当场景透明时就能看到纸纹 */
    background-color: var(--paper-base) !important;
    background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23d6d2c4' fill-opacity='0.1'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z'/%3E%3C/g%3E%3C/svg%3E") !important;
}

/* --- UI 组件重塑 --- */

/* 1. 按钮：匾额/印章风格 */
/* 注意：这里添加了 .free-action-send-btn 和 .story-expand-btn 以统一风格 */
.control-btn, .scene-btn, .modal-btn, .game-btn, .location-go-btn, .back-btn, .free-action-send-btn, .story-expand-btn, 
.trading-btn, .detail-btn, .buy-btn, .sell-btn, .unequip-btn {
    background: var(--paper-base) !important;
    color: var(--ink-dark) !important;
    border: 2px solid var(--ink-dark) !important;
    border-radius: 2px !important; /* 几近直角 */
    font-family: var(--font-serif) !important;
    letter-spacing: 1px;
    position: relative;
    transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    box-shadow: 2px 2px 0 rgba(0,0,0,0.1);
    overflow: hidden;
}

/* 按钮内饰线（仅在大按钮显示） */
.control-btn::after, .scene-btn::after, .back-btn::after {
    content: '';
    position: absolute;
    top: 3px; left: 3px; right: 3px; bottom: 3px;
    border: 1px solid rgba(0,0,0,0.1);
    pointer-events: none;
}

/* 动态交互：墨水扩散效果 (Ripple) */
@keyframes ink-spread {
    0% { transform: scale(0); opacity: 0.5; }
    100% { transform: scale(3); opacity: 0; }
}

.control-btn:active::before, .scene-btn:active:not(:disabled)::before, .back-btn:active::before, .free-action-send-btn:active:not(:disabled)::before {
    content: '';
    position: absolute;
    top: 50%; left: 50%;
    width: 20px; height: 20px;
    background: rgba(0,0,0,0.2);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    animation: ink-spread 0.6s ease-out;
    pointer-events: none;
}

/* 通用悬停效果 */
.control-btn:hover, .scene-btn:hover:not(:disabled), .modal-btn:hover, .location-go-btn:hover, .back-btn:hover, .free-action-send-btn:hover:not(:disabled), .story-expand-btn:hover,
.trading-btn:hover:not(:disabled), .detail-btn:hover, .buy-btn:hover:not(:disabled), .sell-btn:hover:not(:disabled), .unequip-btn:hover {
    background: var(--paper-light) !important;
    color: var(--accent-red) !important;
    border-color: var(--accent-red) !important;
    transform: translate(-1px, -1px);
    box-shadow: 4px 4px 0 rgba(169, 50, 38, 0.15);
}

/* 展开按钮专属覆盖：修复偏移问题 */
.story-expand-btn:hover {
    padding-bottom: clamp(4px, 1vw, 6px) !important; /* 保持与默认值一致，不改变高度 */
    transform: translateX(-50%) !important; /* 关键：强制保持居中，不使用通用的 translate(-1px, -1px) */
}

.control-btn:active, .scene-btn:active:not(:disabled), .back-btn:active, .free-action-send-btn:active:not(:disabled), .story-expand-btn:active,
.trading-btn:active:not(:disabled), .detail-btn:active, .buy-btn:active:not(:disabled), .sell-btn:active:not(:disabled), .unequip-btn:active {
    transform: translate(1px, 1px);
    box-shadow: none;
}

.story-expand-btn:active {
    transform: translateX(-50%) translateY(1px) !important; /* 仅在按下时稍微下沉，保持居中 */
}

/* 翻页箭头：古风配色，保持形状位置 */
.story-nav-btn {
    background: rgba(44, 44, 44, 0.8) !important; /* 保持原有深底色，但覆盖为墨色系 */
    border: 1px solid var(--ink-medium) !important;
    color: var(--paper-base) !important; /* 米白箭头 */
    font-family: "SimHei", sans-serif; /* 箭头符号不需要衬线 */
}

.story-nav-btn:hover:not(:disabled) {
    background: var(--ink-black) !important;
    border-color: var(--accent-gold) !important;
    color: var(--accent-gold) !important; /* 悬停变金 */
}

/* 禁用状态 */
.control-btn:disabled, .scene-btn:disabled, .modal-btn.disabled, .free-action-send-btn:disabled, .trading-btn:disabled, .buy-btn:disabled, .sell-btn:disabled {
    background: #e0e0e0 !important;
    color: #999 !important;
    border-color: #bbb !important;
    cursor: not-allowed;
    box-shadow: none;
}

/* 2. 状态栏：纸张质感，半透明 */
.status-display {
    background: linear-gradient(to bottom, 
        rgba(244, 240, 230, 0.92),  /* --paper-base with opacity */
        rgba(230, 226, 216, 0.88)   /* --paper-dark with opacity */
    ) !important;
    border-bottom: 2px solid var(--ink-dark) !important;
    border-top: none !important;
    font-family: var(--font-serif);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    padding: 0 clamp(5px, 1.5vw, 10px) !important; /* 缩减 padding：20px → 10px，节省水平空间 */
    /* 纸张纹理 */
    background-image: 
        linear-gradient(to bottom, 
            rgba(244, 240, 230, 0.92),
            rgba(230, 226, 216, 0.88)
        ),
        url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23d6d2c4' fill-opacity='0.08'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3z'/%3E%3C/g%3E%3C/svg%3E") !important;
}

/* 状态栏文字：深色墨字 */
.status-display .date-display {
    color: var(--ink-dark) !important;
    text-shadow: none;
    font-weight: bold;
    letter-spacing: 1px;
}

/* 状态栏中的所有文字统一为深色 */
.status-display .mood-label,
.status-display .action-points,
.status-display span,
.status-display div,
.status-display label,
.status-display p,
.status-display * {
    color: var(--ink-dark) !important;
    text-shadow: none !important;
}

/* 进度条优化：水墨笔触感 */
.mood-bar {
    border: 1px solid var(--ink-medium) !important;
    background: rgba(230, 226, 216, 0.6) !important;
    border-radius: 2px !important;
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
    min-width: 80px !important; /* 缩减体力条最小宽度：120px → 80px，允许更多弹性收缩 */
}

/* 体力条外层容器：同步缩减最小宽度，与内层 .mood-bar 保持一致的弹性 */
.status-display .mood-display {
    min-width: clamp(80px, 18vw, 280px) !important; /* 从 clamp(140px, 28vw, 360px) 缩减 */
    gap: clamp(4px, 0.8vw, 8px) !important; /* 缩减间距 */
}

.mood-fill {
    background: linear-gradient(90deg, var(--accent-cyan), #2980b9) !important;
    border-radius: 1px !important;
}

/* 刷新NPC按钮 - 古风样式 */
.status-display .refresh-btn,
.status-display button,
.refresh-npc-btn {
    background: transparent !important;
    color: var(--ink-dark) !important;
    border: 1px solid var(--ink-medium) !important;
    border-radius: 2px !important;
    font-family: var(--font-serif) !important;
    padding: 2px 8px !important;
    font-size: 0.85em !important;
    transition: all 0.2s ease;
}

.status-display .refresh-btn:hover,
.status-display button:hover,
.refresh-npc-btn:hover {
    background: rgba(0, 0, 0, 0.08) !important;
    color: var(--accent-red) !important;
    border-color: var(--accent-red) !important;
}

/* 行动点数字高亮 */
.status-display .action-points strong,
.status-display .action-value {
    color: var(--accent-red) !important;
    font-weight: bold;
}

/* 3. 弹窗与容器通用风格：卷轴/信笺 - 强力覆盖背景色 */
.modal-content, .npc-info-popup, .location-info-popup, 
.stats-group, .inventory-item, .relationship-card, .equipment-stats, .item-info, .shop-item-info, .shop-item-price-info,
.equipment-slot, .trading-list, .trading-item-row,
/* 新增：随机事件和战斗容器 */
.random-event-container, .battle-event-container {
    background-color: var(--paper-base) !important;
    background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23d6d2c4' fill-opacity='0.1'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z'/%3E%3C/g%3E%3C/svg%3E") !important;
    color: var(--ink-black) !important;
    border: 2px solid var(--ink-dark) !important;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1), 0 0 0 2px rgba(44,44,44,0.05) !important;
    border-radius: 2px !important; /* 统一为硬朗直角 */
}

/* 覆盖特定的圆角和阴影 */
.stats-group h3, .cheat-section h4 {
    font-family: var(--font-serif) !important;
    color: var(--ink-black) !important;
    border-bottom: 1px solid var(--accent-gold);
    padding-bottom: 5px;
}

.modal-text {
    font-family: var(--font-serif) !important;
    color: var(--ink-black) !important;
    border-bottom: 1px dashed var(--ink-light);
    padding-bottom: 15px;
}

/* 4. 故事文本区域：更强的排版 */
.story-area {
    background: var(--paper-light) !important;
    border: 2px solid var(--ink-dark);
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}

.story-text {
    font-family: var(--font-sans) !important; /* 改回无衬线字体，保证可读性 */
    line-height: 1.9;
    font-size: 1.15rem;
    color: #111;
}

/* 汗青集正文内容：同样改回无衬线字体 */
#history-summary-content {
    font-family: var(--font-sans) !important;
    color: var(--ink-black) !important;
}

/* 5. 下拉菜单：印章风格 - 增加优先级 */
.dropdown-menu {
    background: var(--paper-base) !important;
    border: 2px solid var(--ink-dark) !important;
    box-shadow: 4px 4px 0 rgba(0,0,0,0.2) !important;
}

.dropdown-item {
    color: var(--ink-dark) !important;
    font-family: var(--font-serif) !important;
    border-bottom: 1px dotted rgba(0,0,0,0.2) !important;
    transition: all 0.2s;
}

.dropdown-item:hover {
    background: rgba(169, 50, 38, 0.1) !important; /* 朱红淡色 */
    color: var(--accent-red) !important;
    padding-left: 25px !important; /* 悬停右移（小屏幕基础值15px → 25px，+10px） */
}

/* 中等屏幕：增强右移效果 */
@media (min-width: 768px) {
    .dropdown-item:hover {
        padding-left: 32px !important; /* 基础值20px → 32px，+12px */
    }
}

/* 大屏幕：进一步增强右移效果 */
@media (min-width: 1200px) {
    .dropdown-item:hover {
        padding-left: 38px !important; /* 基础值20px → 38px，+18px */
    }
}

/* 6. 输入框：水墨边框 */
.free-action-input, .input-field {
    background: #fff;
    border: 2px solid var(--ink-medium);
    border-radius: 2px;
    font-family: var(--font-serif) !important;
    color: var(--ink-black);
}

.free-action-input:focus, .input-field:focus {
    border-color: var(--accent-cyan);
    box-shadow: 0 0 8px rgba(36, 113, 163, 0.2);
}

/* 7. 场景标题：竖排版与匾额 - 响应式设计 */
.scene-title {
    font-family: "LiSu", "KaiTi", serif !important; /* 隶书或楷体 */
    color: #fff !important; /* 白色字体 */
    
    /* 字体大小：使用视口宽度单位，确保响应式 */
    font-size: 3.5vw;
    
    /* 黑色描边：使用 em 单位相对于字体大小 */
    text-shadow: 
        0.05em 0 0 #000, -0.05em 0 0 #000,
        0 0.05em 0 #000, 0 -0.05em 0 #000,
        0.05em 0.05em 0 #000, -0.05em -0.05em 0 #000,
        0.05em -0.05em 0 #000, -0.05em 0.05em 0 #000,
        0.1em 0 0 #000, -0.1em 0 0 #000,
        0 0.1em 0 #000, 0 -0.1em 0 #000;
    
    /* 背景透明，由伪元素提供 */
    background: transparent;
    
    /* 内边距：使用视口宽度单位 */
    padding: 1.5vw 2vw;
    border-radius: 0.5vw;
    border-top: none;
    
    /* 竖排文字 */
    writing-mode: vertical-rl;
    text-orientation: upright;
    letter-spacing: 0.15em; /* 字间距相对于字体大小 */
    
    /* 定位：使用百分比相对于父容器 */
    position: absolute;
    top: 3%;
    right: 4%;
    left: auto;
    transform: none;
    z-index: 10;
}

/* 场景标题背景：伪元素实现淡出效果，文字不受影响 */
.scene-title::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: -1;
    
    /* 背景图片 */
    background-image: url('https://cdn.jsdelivr.net/gh/Ji-Haitang/char_card_1@main/assets/image/static/背景.png');
    background-size: 100% 100%; /* 拉伸填充 */
    background-position: center;
    background-repeat: no-repeat;
    
    border-radius: 0.5vw;
    
    /* 底部淡出效果：只应用于背景 */
    -webkit-mask-image: linear-gradient(to bottom, black 0%, black 50%, transparent 100%);
    mask-image: linear-gradient(to bottom, black 0%, black 50%, transparent 100%);
}

/* 8. 随机事件与战斗卡片（特定优化） */
.event-title, .battle-event-title {
    color: var(--accent-red) !important;
    font-family: var(--font-serif) !important;
    border-bottom: 1px solid var(--ink-light) !important;
    padding-bottom: 8px;
    margin-bottom: 12px !important;
}

/* 事件内容文字 */
.event-description, .battle-event-description, .enemy-info-item, .battle-reward-text, .option-desc, .option-reward, .option-success-rate {
    color: var(--ink-black) !important;
    font-family: var(--font-serif) !important;
}

/* 战斗/事件选项按钮 */
.event-option-btn, .battle-action-btn {
    background: var(--paper-light) !important;
    border: 1px solid var(--ink-dark) !important;
    border-radius: 2px !important;
    color: var(--ink-black) !important;
    font-family: var(--font-serif) !important;
    box-shadow: 2px 2px 0 rgba(0,0,0,0.1) !important;
    transition: all 0.2s;
}

.event-option-btn:hover, .battle-action-btn:hover {
    background: var(--paper-dark) !important;
    border-color: var(--accent-red) !important;
    color: var(--accent-red) !important;
    transform: translate(-1px, -1px);
}

/* 战斗详情背景修正 */
.battle-enemy-info, .battle-reward {
    background: rgba(0,0,0,0.03) !important;
    border: 1px solid rgba(0,0,0,0.1) !important;
    border-radius: 2px !important;
}

/* 9. 地点标签：使用 game-styles.css 的原始样式，仅覆盖全局楷体继承 */
/* 由于 body 设置了楷体，需要明确将地点标签恢复为无衬线字体 */
.location,
.location .location-label-text {
    font-family: "Microsoft YaHei", "SimHei", sans-serif !important;
}

/* 不添加任何额外的 text-shadow、box-shadow 或其他样式 */
/* 让 game-styles.css 中的原始样式生效 */

/* 10. 返回按钮：特殊处理（已合并到通用按钮样式） */
/* .back-btn 样式已由上方的通用 .control-btn, .back-btn 规则覆盖 */

/* 覆盖原有蓝色阴影 */
.tooltip.show {
    background: var(--ink-black);
    border: 1px solid var(--ink-light);
    box-shadow: 0 5px 15px rgba(0,0,0,0.5);
    font-family: var(--font-serif) !important;
}

/* --- 属性面板与关系界面特定覆盖 --- */

/* 场景背景：透明，显示body背景 */
/* 关键：确保这些场景没有背景色，能透出 viewport 的纸纹 */
#player-stats-scene, #relationships-scene {
    background: transparent !important;
    background-color: transparent !important;
    background-image: none !important;
}

.stat-bar, .relationship-bar {
    background: #e6e2d8 !important;
    border: 1px solid #999;
    border-radius: 2px !important;
    height: 18px !important;
}

.stat-fill {
    background: linear-gradient(to right, var(--ink-medium), var(--ink-black)) !important;
    border-radius: 0 !important;
}

.add-point-btn, .gift-btn {
    background: var(--paper-base) !important;
    color: var(--ink-dark) !important;
    border: 1px solid var(--ink-dark) !important;
    border-radius: 2px !important;
    font-family: var(--font-serif) !important;
}

.add-point-btn:hover:not(:disabled), .gift-btn:hover:not(.disabled) {
    background: var(--paper-dark) !important;
    color: var(--accent-red) !important;
    border-color: var(--accent-red) !important;
}

/* 强制所有文字使用衬线体 */
.stat-name, .simple-stat-name, .simple-stat-value, .stat-value, 
.relationship-name, .relationship-value, .checkbox-label, .npc-info-desc, .npc-info-name {
    font-family: var(--font-serif) !important;
    color: var(--ink-black) !important;
}

/* 关系进度条 */
.relationship-fill {
    background: linear-gradient(to right, #d98880, #c0392b) !important;
    border-radius: 0 !important;
}

/* 装备和物品槽/列表/表格行 */
.equipment-slot, .inventory-item, .trading-list, .trading-item-row, .cheat-section, .cheat-item input {
    background: var(--paper-light) !important;
    border: 1px solid #ccc !important;
    border-radius: 2px !important;
}

.equipped-item, .shop-item-price-info {
    background: rgba(183, 149, 11, 0.1) !important;
    border: 1px solid var(--accent-gold) !important;
    color: var(--ink-dark) !important;
    border-radius: 2px !important;
    font-family: var(--font-serif) !important;
}

/* --- 地点弹窗优化 (去除荧光蓝) --- */
.location-info-name {
    color: var(--accent-red) !important;
    font-family: var(--font-serif) !important;
    border-bottom: 1px solid var(--ink-light);
    padding-bottom: 5px;
}

/* 覆盖前往按钮 */
.location-go-btn {
    /* 已合并到通用按钮样式中，这里仅做微调 */
    min-width: 120px;
}

.location-info-npcs {
    color: var(--ink-dark) !important;
    font-family: var(--font-serif) !important;
}

.location-info-npc-item {
    color: var(--ink-dark) !important;
}

/* 地图热区高亮：古风UI下使用边缘白色发光效果 */
#map-hit-areas polygon:hover,
#map-hit-areas polygon.active {
    stroke: rgba(255, 255, 255, 0.25) !important;  /* 淡白色描边，作为发光种子 */
    stroke-width: 1px !important;
    fill: transparent !important;
    /* 多层白色发光，从边缘向外扩散（基础版 - 适合小屏幕） */
    filter: 
        drop-shadow(0 0 3px rgba(255, 255, 255, 1))
        drop-shadow(0 0 6px rgba(255, 255, 255, 0.9))
        drop-shadow(0 0 10px rgba(255, 255, 255, 0.6))
        drop-shadow(0 0 16px rgba(255, 255, 255, 0.3)) !important;
    cursor: pointer;
}

/* 大屏幕（平板横屏及以上）：增强发光效果 */
@media (min-width: 768px) {
    #map-hit-areas polygon:hover,
    #map-hit-areas polygon.active {
        stroke: rgba(255, 255, 255, 0.3) !important;  /* 稍微增加描边可见度 */
        stroke-width: 1.5px !important;
        /* 增强版发光：更多层、更大范围 */
        filter: 
            drop-shadow(0 0 4px rgba(255, 255, 255, 1))
            drop-shadow(0 0 8px rgba(255, 255, 255, 0.95))
            drop-shadow(0 0 14px rgba(255, 255, 255, 0.7))
            drop-shadow(0 0 22px rgba(255, 255, 255, 0.45))
            drop-shadow(0 0 32px rgba(255, 255, 255, 0.2)) !important;
    }
}

/* 超大屏幕（桌面显示器）：进一步增强发光效果 */
@media (min-width: 1200px) {
    #map-hit-areas polygon:hover,
    #map-hit-areas polygon.active {
        stroke: rgba(255, 255, 255, 0.35) !important;
        stroke-width: 2px !important;
        /* 超强版发光：6层叠加，最远扩散40px */
        filter: 
            drop-shadow(0 0 5px rgba(255, 255, 255, 1))
            drop-shadow(0 0 10px rgba(255, 255, 255, 0.95))
            drop-shadow(0 0 16px rgba(255, 255, 255, 0.8))
            drop-shadow(0 0 24px rgba(255, 255, 255, 0.55))
            drop-shadow(0 0 34px rgba(255, 255, 255, 0.3))
            drop-shadow(0 0 46px rgba(255, 255, 255, 0.15)) !important;
    }
}

/* --- 交易与物品详情修复 --- */

/* 强制替换荧光蓝价格颜色 */
.trading-money, .trading-item-price, .price-value, .stat-effect {
    color: var(--accent-cyan) !important;
    font-family: var(--font-serif) !important;
    text-shadow: none !important;
}

/* 物品详情与列表文字统一 */
.trading-item-name, .item-name, .shop-item-stat-label, .shop-item-stat, .item-description, .shop-item-description, .price-label {
    font-family: var(--font-serif) !important;
    color: var(--ink-dark) !important;
}

/* 售出价格颜色区分 */
.trading-item-price[style*="color: #ff6b6b"], .sell-price {
    color: var(--accent-red) !important;
}

/* 弹窗标题统一 */
.trading-header h3, .shop-detail-content h3 {
    font-family: var(--font-serif) !important;
    color: var(--ink-black) !important;
    border-bottom: 1px solid var(--accent-gold);
    padding-bottom: 8px;
    display: block;
    width: 100%;
    text-align: center;
}

/* 物品图标背景优化 */
.item-icon {
    background-color: var(--paper-dark) !important;
    border: 1px solid var(--ink-light) !important;
    border-radius: 2px !important;
    color: var(--ink-dark) !important;
}

/* ========== 古风UI框选图片叠加层（地图地点） ========== */
.location-selection-overlay {
    position: absolute;
    width: 14vw;
    height: 14vw;
    pointer-events: none;
    z-index: 15;
    transform: translate(-50%, -50%);
    display: none;
    background-image: url('https://cdn.jsdelivr.net/gh/Ji-Haitang/char_card_1@main/assets/image/static/框选.png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    filter: 
        drop-shadow(0 0 2px rgba(255, 255, 255, 0.9))
        drop-shadow(0 0 4px rgba(255, 255, 255, 0.7))
        drop-shadow(0 0 8px rgba(255, 255, 255, 0.5));
}

.location-selection-overlay.show {
    display: block;
}

/* ========== NPC选中叠加层样式（古风UI专用） ========== */
.npc-selection-overlay {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    pointer-events: auto;
    z-index: 50;
    display: none;
}

.npc-selection-overlay.show {
    display: block;
}

/* 框选图片容器 */
.npc-selection-frame {
    position: absolute;
    width: 70%;
    height: 70%;
    pointer-events: auto;
    z-index: 51;
}

/* 框选图片使用伪元素显示，方便镜像翻转 */
.npc-selection-frame::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url('https://cdn.jsdelivr.net/gh/Ji-Haitang/char_card_1@main/assets/image/static/框选2.png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    pointer-events: none;
    z-index: -1;
}

/* 选项在左侧时，框选图片水平镜像翻转 */
.npc-selection-frame.options-left::before {
    transform: scaleX(-1);
}

/* NPC名称 - 古风字体，白字黑边，放大字号 */
.npc-selection-name {
    position: absolute;
    top: -2vw;
    left: 50%;
    transform: translateX(-50%);
    font-size: 4.5vw; /* 从3.5vw放大到4.5vw */
    font-weight: bold;
    font-family: var(--font-serif) !important;
    color: #fff !important;
    letter-spacing: 4px;
    text-shadow: 
        1px 0 0 #000, -1px 0 0 #000,
        0 1px 0 #000, 0 -1px 0 #000,
        1px 1px 0 #000, -1px -1px 0 #000,
        1px -1px 0 #000, -1px 1px 0 #000,
        2px 0 0 #000, -2px 0 0 #000,
        0 2px 0 #000, 0 -2px 0 #000 !important;
    white-space: nowrap;
    pointer-events: none;
    z-index: 52;
}

/* NPC简介 - 无衬线字体（与正文一致），白字黑边，带背景 */
.npc-selection-desc {
    position: absolute;
    bottom: 1vw;
    left: 50%;
    transform: translateX(-50%);
    font-size: 2.2vw;
    font-family: var(--font-sans) !important; /* 改为无衬线字体，与正文一致 */
    color: #fff !important;
    letter-spacing: 0.5px;
    text-shadow: 
        1px 0 0 #000, -1px 0 0 #000,
        0 1px 0 #000, 0 -1px 0 #000,
        1px 1px 0 #000, -1px -1px 0 #000 !important;
    max-width: 90%;
    text-align: center;
    line-height: 1.4;
    pointer-events: none;
    z-index: 52;
    background-image: url('https://cdn.jsdelivr.net/gh/Ji-Haitang/char_card_1@main/assets/image/static/背景.png');
    background-size: 100% 100%;
    background-repeat: no-repeat;
    background-position: center;
    padding: 1.5vw 2.5vw;
    border-radius: 0.5vw;
}

/* 简介偏移：选项在右侧时，简介左移5vw */
.npc-selection-desc.desc-offset-left {
    left: calc(50% - 5vw);
}

/* 简介偏移：选项在左侧时，简介右移5vw */
.npc-selection-desc.desc-offset-right {
    left: calc(50% + 5vw);
}

/* 选项容器 - 圆周排列的锚点（以框选图片中心为圆心） */
.npc-selection-options {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    width: 0;
    height: 0;
    z-index: 55;
    pointer-events: none; /* 容器本身不拦截点击 */
}

/* 选项文字按钮 - 古风样式，圆周定位，白字黑边 */
.npc-selection-option {
    position: absolute;
    /* 使用CSS变量实现圆周定位 */
    left: var(--opt-x, 0);
    top: var(--opt-y, 0);
    transform: translate(-50%, -50%);
    font-size: 3vw;
    font-weight: bold;
    font-family: var(--font-serif) !important;
    color: #fff !important;
    letter-spacing: 2px;
    cursor: pointer;
    pointer-events: auto !important;
    padding: 1vw 2.5vw;
    text-shadow: 
        1px 0 0 #000, -1px 0 0 #000,
        0 1px 0 #000, 0 -1px 0 #000,
        1px 1px 0 #000, -1px -1px 0 #000,
        1px -1px 0 #000, -1px 1px 0 #000,
        2px 0 0 #000, -2px 0 0 #000,
        0 2px 0 #000, 0 -2px 0 #000 !important;
    transition: all 0.2s ease;
    white-space: nowrap;
    background: transparent !important;
    border: none;
    border-radius: 4px;
}

/* 选项悬停 - 金色高亮，无位移 */
.npc-selection-option:hover {
    color: #ffeb3b !important;
    background: rgba(0, 0, 0, 0.4) !important;
    /* 保持原位置，不缩放位移 */
    transform: translate(-50%, -50%) !important;
}

.npc-selection-option.disabled {
    color: #999 !important;
    cursor: not-allowed;
    opacity: 0.6;
    background: transparent !important;
}

.npc-selection-option.disabled:hover {
    color: #999 !important;
    background: transparent !important;
    transform: translate(-50%, -50%) !important;
}

/* 选项奖励提示 */
.npc-selection-option-reward {
    font-size: clamp(0.65rem, 1.4vw, 0.8rem);
    font-family: var(--font-serif) !important;
    color: #4ecdc4 !important;
    margin-left: 4px;
}

/* 关闭区域（点击其他区域关闭） */
.npc-selection-close-area {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    pointer-events: auto;
    z-index: 50;
    cursor: pointer;
}

/* ========== 古风UI滚动条样式 ========== */

/* Webkit内核浏览器（Chrome、Safari、Edge）滚动条样式 */
/* 应用于所有可滚动容器 */
.modal-content::-webkit-scrollbar,
.inventory-grid::-webkit-scrollbar,
.equipment-slots::-webkit-scrollbar,
.trading-list::-webkit-scrollbar,
.trading-content::-webkit-scrollbar,
.cheat-content::-webkit-scrollbar,
.cheat-sections::-webkit-scrollbar,
.stats-container::-webkit-scrollbar,
.relationships-container::-webkit-scrollbar,
.item-detail-content::-webkit-scrollbar,
.shop-detail-content::-webkit-scrollbar,
.inventory-content::-webkit-scrollbar,
.equipment-content::-webkit-scrollbar,
.story-text::-webkit-scrollbar,
.battle-enemy-info::-webkit-scrollbar,
.battle-reward::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

/* 滚动条轨道 */
.modal-content::-webkit-scrollbar-track,
.inventory-grid::-webkit-scrollbar-track,
.equipment-slots::-webkit-scrollbar-track,
.trading-list::-webkit-scrollbar-track,
.trading-content::-webkit-scrollbar-track,
.cheat-content::-webkit-scrollbar-track,
.cheat-sections::-webkit-scrollbar-track,
.stats-container::-webkit-scrollbar-track,
.relationships-container::-webkit-scrollbar-track,
.item-detail-content::-webkit-scrollbar-track,
.shop-detail-content::-webkit-scrollbar-track,
.inventory-content::-webkit-scrollbar-track,
.equipment-content::-webkit-scrollbar-track,
.story-text::-webkit-scrollbar-track,
.battle-enemy-info::-webkit-scrollbar-track,
.battle-reward::-webkit-scrollbar-track {
    background: var(--paper-dark);
    border-radius: 2px;
    border: 1px solid var(--ink-light);
}

/* 滚动条滑块 */
.modal-content::-webkit-scrollbar-thumb,
.inventory-grid::-webkit-scrollbar-thumb,
.equipment-slots::-webkit-scrollbar-thumb,
.trading-list::-webkit-scrollbar-thumb,
.trading-content::-webkit-scrollbar-thumb,
.cheat-content::-webkit-scrollbar-thumb,
.cheat-sections::-webkit-scrollbar-thumb,
.stats-container::-webkit-scrollbar-thumb,
.relationships-container::-webkit-scrollbar-thumb,
.item-detail-content::-webkit-scrollbar-thumb,
.shop-detail-content::-webkit-scrollbar-thumb,
.inventory-content::-webkit-scrollbar-thumb,
.equipment-content::-webkit-scrollbar-thumb,
.story-text::-webkit-scrollbar-thumb,
.battle-enemy-info::-webkit-scrollbar-thumb,
.battle-reward::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, var(--ink-medium) 0%, var(--ink-dark) 100%);
    border-radius: 2px;
    border: 1px solid var(--ink-dark);
    transition: background 0.2s ease;
}

/* 滚动条滑块悬停 */
.modal-content::-webkit-scrollbar-thumb:hover,
.inventory-grid::-webkit-scrollbar-thumb:hover,
.equipment-slots::-webkit-scrollbar-thumb:hover,
.trading-list::-webkit-scrollbar-thumb:hover,
.trading-content::-webkit-scrollbar-thumb:hover,
.cheat-content::-webkit-scrollbar-thumb:hover,
.cheat-sections::-webkit-scrollbar-thumb:hover,
.stats-container::-webkit-scrollbar-thumb:hover,
.relationships-container::-webkit-scrollbar-thumb:hover,
.item-detail-content::-webkit-scrollbar-thumb:hover,
.shop-detail-content::-webkit-scrollbar-thumb:hover,
.inventory-content::-webkit-scrollbar-thumb:hover,
.equipment-content::-webkit-scrollbar-thumb:hover,
.story-text::-webkit-scrollbar-thumb:hover,
.battle-enemy-info::-webkit-scrollbar-thumb:hover,
.battle-reward::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, var(--ink-dark) 0%, var(--ink-black) 100%);
}

/* 滚动条滑块激活 */
.modal-content::-webkit-scrollbar-thumb:active,
.inventory-grid::-webkit-scrollbar-thumb:active,
.equipment-slots::-webkit-scrollbar-thumb:active,
.trading-list::-webkit-scrollbar-thumb:active,
.trading-content::-webkit-scrollbar-thumb:active,
.cheat-content::-webkit-scrollbar-thumb:active,
.cheat-sections::-webkit-scrollbar-thumb:active,
.stats-container::-webkit-scrollbar-thumb:active,
.relationships-container::-webkit-scrollbar-thumb:active,
.item-detail-content::-webkit-scrollbar-thumb:active,
.shop-detail-content::-webkit-scrollbar-thumb:active,
.inventory-content::-webkit-scrollbar-thumb:active,
.equipment-content::-webkit-scrollbar-thumb:active,
.story-text::-webkit-scrollbar-thumb:active,
.battle-enemy-info::-webkit-scrollbar-thumb:active,
.battle-reward::-webkit-scrollbar-thumb:active {
    background: var(--ink-black);
}

/* 滚动条角落 */
.modal-content::-webkit-scrollbar-corner,
.inventory-grid::-webkit-scrollbar-corner,
.equipment-slots::-webkit-scrollbar-corner,
.trading-list::-webkit-scrollbar-corner,
.trading-content::-webkit-scrollbar-corner,
.cheat-content::-webkit-scrollbar-corner,
.cheat-sections::-webkit-scrollbar-corner,
.stats-container::-webkit-scrollbar-corner,
.relationships-container::-webkit-scrollbar-corner,
.item-detail-content::-webkit-scrollbar-corner,
.shop-detail-content::-webkit-scrollbar-corner,
.inventory-content::-webkit-scrollbar-corner,
.equipment-content::-webkit-scrollbar-corner,
.story-text::-webkit-scrollbar-corner,
.battle-enemy-info::-webkit-scrollbar-corner,
.battle-reward::-webkit-scrollbar-corner {
    background: var(--paper-dark);
}

/* Firefox滚动条样式 */
.modal-content,
.inventory-grid,
.equipment-slots,
.trading-list,
.trading-content,
.cheat-content,
.cheat-sections,
.stats-container,
.relationships-container,
.item-detail-content,
.shop-detail-content,
.inventory-content,
.equipment-content,
.story-text,
.battle-enemy-info,
.battle-reward {
    scrollbar-width: thin;
    scrollbar-color: var(--ink-medium) var(--paper-dark);
}

/* 通用：所有弹窗内可滚动区域 */
.modal.viewport-overlay::-webkit-scrollbar,
.modal.viewport-overlay .modal-content::-webkit-scrollbar,
.modal .modal-content::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

.modal.viewport-overlay::-webkit-scrollbar-track,
.modal.viewport-overlay .modal-content::-webkit-scrollbar-track,
.modal .modal-content::-webkit-scrollbar-track {
    background: var(--paper-dark);
    border-radius: 2px;
    border: 1px solid var(--ink-light);
}

.modal.viewport-overlay::-webkit-scrollbar-thumb,
.modal.viewport-overlay .modal-content::-webkit-scrollbar-thumb,
.modal .modal-content::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, var(--ink-medium) 0%, var(--ink-dark) 100%);
    border-radius: 2px;
    border: 1px solid var(--ink-dark);
}

.modal.viewport-overlay::-webkit-scrollbar-thumb:hover,
.modal.viewport-overlay .modal-content::-webkit-scrollbar-thumb:hover,
.modal .modal-content::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, var(--ink-dark) 0%, var(--ink-black) 100%);
}

.modal.viewport-overlay,
.modal.viewport-overlay .modal-content,
.modal .modal-content {
    scrollbar-width: thin;
    scrollbar-color: var(--ink-medium) var(--paper-dark);
}

/* ========== 全局字体优化（古风UI专用） ========== */
/* 统一标准：参考上拉菜单选项的清晰效果 */
/* 基准样式：font-size: clamp(0.9rem, 2.2vw, 1.1rem), font-weight: 600, color: --ink-dark */

/* ===== 颜色统一规则 ===== */
/* 主要文字：使用 --ink-dark (#2c2c2c)，与上拉菜单一致 */
/* 标题文字：使用 --ink-black (#1a1a1a) */
/* 禁用/不可用：使用 #999 或 --ink-light (#8c8c8c) */
/* 价格/数值：使用 --accent-cyan (#2471a3) */

/* 统一所有可交互文字颜色为深色 */
.dropdown-item,
.location-info-npcs,
.location-info-npc-item,
.relationship-value,
.checkbox-label,
.visibility-checkbox,
.npc-info-desc,
.modal-text,
.trading-item-name,
.item-name,
.item-description,
.shop-item-description,
.item-stat,
.shop-item-stat,
.option-desc,
.option-reward,
.option-success-rate,
.enemy-info-item,
.battle-reward-text,
.slot-label,
.cheat-item label,
.difficulty-option .option-content small {
    color: var(--ink-dark) !important;
}

/* 标题类文字使用更深的颜色 */
.location-info-name,
.npc-info-name,
.relationship-name,
.stats-group h3,
.cheat-section h4,
.trading-section h4,
.equipment-stats h4,
.difficulty-option .option-content strong {
    color: var(--ink-black) !important;
}

/* 禁用状态保持淡色 */
.empty-slot,
.gift-btn.disabled,
.npc-info-btn.disabled,
.add-point-btn:disabled,
.trading-btn:disabled,
.buy-btn:disabled,
.sell-btn:disabled,
.modal-btn.disabled,
.scene-btn:disabled,
.control-btn:disabled {
    color: #999 !important;
}

/* 1. 下拉菜单项 - 上拉栏各选项（基准样式） */
.dropdown-item {
    font-size: clamp(0.9rem, 2.2vw, 1.1rem) !important;
    font-weight: 600 !important;
    padding: clamp(10px, 2.5vw, 14px) clamp(15px, 3vw, 20px) !important;
    letter-spacing: 0.5px;
}

/* 2. 地点弹窗 - 统一到基准样式 */
.location-info-name {
    font-size: clamp(1.2rem, 3vw, 1.5rem) !important;
    font-weight: bold !important;
}

.location-info-npcs {
    font-size: clamp(0.9rem, 2.2vw, 1.1rem) !important;
    font-weight: 600 !important;
    line-height: 1.6 !important;
}

.location-info-npc-item {
    margin: clamp(6px, 1.5vw, 8px) 0 !important;
    font-size: clamp(0.9rem, 2.2vw, 1.1rem) !important;
    font-weight: 600 !important;
}

/* 前往按钮 */
.location-go-btn {
    font-size: clamp(1rem, 2.5vw, 1.2rem) !important;
    font-weight: bold !important;
    padding: clamp(10px, 2.5vw, 12px) clamp(30px, 6vw, 40px) !important;
}

/* 3. 人际关系卡片 - 统一到基准样式 */
.relationship-name {
    font-size: clamp(0.9rem, 2.2vw, 1.1rem) !important;
    font-weight: bold !important;
}

.relationship-value {
    font-size: clamp(0.9rem, 2.2vw, 1.1rem) !important;
    font-weight: 600 !important;
}

.checkbox-label {
    font-size: clamp(0.9rem, 2.2vw, 1.1rem) !important;
    font-weight: 600 !important;
}

.visibility-checkbox {
    font-size: clamp(0.9rem, 2.2vw, 1.1rem) !important;
    font-weight: 600 !important;
}

.gift-btn {
    font-size: clamp(0.85rem, 2vw, 1rem) !important;
    font-weight: bold !important;
    padding: clamp(5px, 1.2vw, 7px) clamp(10px, 2.2vw, 14px) !important;
}

/* 4. NPC信息弹窗 - 统一样式 */
.npc-info-name {
    font-size: clamp(1.2rem, 3vw, 1.5rem) !important;
    font-weight: bold !important;
}

.npc-info-desc {
    font-size: clamp(0.9rem, 2.2vw, 1.1rem) !important;
    font-weight: 600 !important;
    line-height: 1.5 !important;
}

.npc-info-btn {
    font-size: clamp(0.9rem, 2.2vw, 1.1rem) !important;
    font-weight: bold !important;
}

/* 5. 状态栏文字增强 */
.status-display .date-display {
    font-size: clamp(1rem, 2.2vw, 1.4rem) !important;
    font-weight: bold !important;
}

.status-display .mood-text,
.status-display .action-points {
    font-size: clamp(0.9rem, 2vw, 1.1rem) !important;
    font-weight: 600 !important;
}

/* 6. 弹窗标题与文本 - 统一样式 */
.modal-text {
    font-size: clamp(1rem, 2.5vw, 1.2rem) !important;
    font-weight: 600 !important;
    line-height: 1.7 !important;
}

.modal-btn {
    font-size: clamp(0.9rem, 2.2vw, 1.1rem) !important;
    font-weight: bold !important;
}

/* 7. 交易界面文字 - 统一样式 */
.trading-item-name {
    font-size: clamp(0.9rem, 2.2vw, 1.1rem) !important;
    font-weight: bold !important;
}

.trading-item-price {
    font-size: clamp(0.9rem, 2.2vw, 1.1rem) !important;
    font-weight: 600 !important;
}

.trading-money {
    font-size: clamp(1rem, 2.2vw, 1.2rem) !important;
    font-weight: bold !important;
}

.trading-section h4 {
    font-size: clamp(0.95rem, 2.2vw, 1.1rem) !important;
    font-weight: bold !important;
}

/* 8. 背包物品 - 增加字重 */
.inventory-item {
    font-weight: 600 !important;
}

.item-name {
    font-size: clamp(0.9rem, 2.2vw, 1.1rem) !important;
    font-weight: bold !important;
}

.item-quantity {
    font-size: clamp(0.9rem, 2.2vw, 1.1rem) !important;
    font-weight: 600 !important;
}

/* 9. 物品详情弹窗 - 统一样式 */
.item-description, .shop-item-description {
    font-size: clamp(0.9rem, 2.2vw, 1.1rem) !important;
    font-weight: 600 !important;
    line-height: 1.6 !important;
}

.item-stat, .shop-item-stat {
    font-size: clamp(0.9rem, 2.2vw, 1.1rem) !important;
    font-weight: 600 !important;
}

.item-stat-label, .shop-item-stat-label {
    font-weight: bold !important;
}

.price-label {
    font-size: clamp(0.9rem, 2.2vw, 1.1rem) !important;
    font-weight: bold !important;
}

.price-value {
    font-size: clamp(1rem, 2.4vw, 1.2rem) !important;
    font-weight: bold !important;
}

/* 10. 事件选项文字 - 统一样式 */
.option-desc {
    font-size: clamp(0.9rem, 2.2vw, 1.1rem) !important;
    font-weight: 600 !important;
}

.option-reward, .option-success-rate {
    font-size: clamp(0.85rem, 2vw, 1rem) !important;
    font-weight: 600 !important;
}

/* 11. 控制按钮（底部） */
.control-btn {
    font-size: clamp(0.9rem, 2.2vw, 1.1rem) !important;
    font-weight: bold !important;
    letter-spacing: 1px !important;
}

/* 12. 装备界面 - 统一样式 */
.slot-label {
    font-size: clamp(0.9rem, 2.2vw, 1.1rem) !important;
    font-weight: bold !important;
}

.equipped-item {
    font-size: clamp(0.9rem, 2.2vw, 1.1rem) !important;
    font-weight: bold !important;
}

.empty-slot {
    font-size: clamp(0.9rem, 2.2vw, 1.1rem) !important;
    font-weight: 600 !important;
}

.stat-effect {
    font-size: clamp(0.9rem, 2.2vw, 1.1rem) !important;
    font-weight: 600 !important;
}

/* 13. 金手指/设置弹窗 */
.cheat-section h4 {
    font-size: clamp(1rem, 2.4vw, 1.2rem) !important;
    font-weight: bold !important;
}

.cheat-item label {
    font-size: clamp(0.9rem, 2.2vw, 1.1rem) !important;
    font-weight: 600 !important;
}

.difficulty-option .option-content strong {
    font-size: clamp(0.95rem, 2.2vw, 1.1rem) !important;
    font-weight: bold !important;
}

.difficulty-option .option-content small {
    font-size: clamp(0.85rem, 2vw, 1rem) !important;
    font-weight: 600 !important;
}

/* 14. 场景按钮 */
.scene-btn {
    font-size: clamp(0.9rem, 2.2vw, 1.1rem) !important;
    font-weight: bold !important;
}

/* 15. 返回按钮 */
.back-btn {
    font-size: clamp(0.9rem, 2.2vw, 1.1rem) !important;
    font-weight: bold !important;
}

/* 16. 战斗/事件信息 */
.enemy-info-item {
    font-size: clamp(0.9rem, 2.2vw, 1.1rem) !important;
    font-weight: 600 !important;
}

.battle-reward-text {
    font-size: clamp(0.9rem, 2.2vw, 1.1rem) !important;
    font-weight: 600 !important;
}

/* 通用：所有使用overflow的容器 */
[style*="overflow"]::-webkit-scrollbar,
[style*="overflow-y"]::-webkit-scrollbar,
[style*="overflow-x"]::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

[style*="overflow"]::-webkit-scrollbar-track,
[style*="overflow-y"]::-webkit-scrollbar-track,
[style*="overflow-x"]::-webkit-scrollbar-track {
    background: var(--paper-dark);
    border-radius: 2px;
}

[style*="overflow"]::-webkit-scrollbar-thumb,
[style*="overflow-y"]::-webkit-scrollbar-thumb,
[style*="overflow-x"]::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, var(--ink-medium) 0%, var(--ink-dark) 100%);
    border-radius: 2px;
    border: 1px solid var(--ink-dark);
}

[style*="overflow"]::-webkit-scrollbar-thumb:hover,
[style*="overflow-y"]::-webkit-scrollbar-thumb:hover,
[style*="overflow-x"]::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, var(--ink-dark) 0%, var(--ink-black) 100%);
}
